<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SentimentX</title>
    <link rel="icon" href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAcCAYAAAByDd+UAAAAAXNSR0IArs4c6QAAAYFJREFUSEvNltFxAjEMREUn0EmoJKESkkpCJ6GTUAos470RvpUs/9xwPzB3tp9Wstbe2cbPbmOevQXwK1B9NbPbREb2ZvbR5mDu81EKv83sLBYG7FAEAvb/AAJ09HMUEIN/2yAOhmq8+3m8R0DZw/n4XQUY1ZARegCASNGpRR5B/9o4BLukMkspv0HJpwMgCCyGJ0ptCotqSKBKDRRi0UsLxKtk7aWyikKMYWo9QC3MQIY1rvQhNwwj75UTttqRqsgVIOYhjX7XeeUIqAQb1dAHqFJL5TP9OWVtBKAtUFOvHOkuuVA1pVTLXiRAKU9dYRaoLEspD6GzQC6OBZULDVM7A/RND6C3OboQ6vhi1r3UKrDvNWVzpeavAFm3fvsrm+v9d1XLCpBNr+qjDB47WR5NlcYfub8yeHW0LUozhYgUuzJ1/8DgMQ+3htXZGQF5InhXyRq6Hx+e+gqYnXkR1AP8eYr/L2dndInCwNHdpYcDqm582N3Lja+yS1NvnP24OfAOnLJsHbjNBdMAAAAASUVORK5CYII=" type="image/png">
    <link href='https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css' rel='stylesheet'>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.7/dist/css/bootstrap.min.css" rel="stylesheet" 
      integrity="sha384-LN+7fdVzj6u52u30Kp6M/trliBMCMKTyK833zpbD+pXdCLuTusPj697FH4R/5mcr" crossorigin="anonymous">
    <link rel="stylesheet" href="{{ url_for('static', filename='index.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='trending.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='stats.css') }}">

</head>

<body>
    <div class="wrapper">
        <aside id="sidebar">
            <div class="d-flex justify-content-between p-4">
                <div class="sidebar-logo">
                    <a href="#">SentimentX</a>
                </div>
                <button class="toggle-btn border-0" type="button" aria-label="Toggle sidebar">
                    <i id="icon" class='bx bx-chevrons-right'></i>
                </button>
            </div>

           <ul class="sidebar-nav list-unstyled px-3">
                  <!-- Home -->
                <li class="sidebar-item">
                    <a href="#" class="sidebar-link" id="homeLink">
                        <i class='bx bx-home'></i>
                        <span>Home</span>
                    </a>
                </li>

                <!-- Real-TimeX -->
                <li class="sidebar-item">
                    <a href="#" class="sidebar-link" id="realTimeXToggle">
                        <i class='bx bx-time'></i>
                        <span>Real-TimeX</span>
                    </a>
                </li>
          
                <!-- Statistics -->
                <li class="sidebar-item">
                <a href="#" class="sidebar-link collapsed has-dropdown" data-bs-toggle="collapse"
                    data-bs-target="#statsMenu" aria-expanded="false" aria-controls="statsMenu">
                    <i class='bx bxs-bar-chart-alt-2'></i>
                    <span>Statistics</span>
                </a>
                <ul id="statsMenu" class="sidebar-dropdown list-unstyled collapse">
                    <li><a class="sidebar-link" href="#" id="sentimentAnalysisLink"><i class='bx bxs-pie-chart-alt-2'></i><span>Sentiment Analysis</span></a></li>
                    <li><a class="sidebar-link" href="#" id="trendingTopicsLink"><i class='bx bx-trending-up'></i><span>Trending Topics</span></a></li>
                </ul>
                </li>

                <!-- Model Info -->
                <li class="sidebar-item">
                <a href="#" class="sidebar-link collapsed has-dropdown" data-bs-toggle="collapse"
                    data-bs-target="#modelMenu" aria-expanded="false" aria-controls="modelMenu">
                    <i class='bx bx-brain'></i>
                    <span>Model Info</span>
                </a>
                <ul id="modelMenu" class="sidebar-dropdown list-unstyled collapse">
                    <li><a class="sidebar-link" href="#" id="distilbertLink"><i class='bx bx-info-circle'></i><span>DistilBERT Details</span></a></li>
                    <li><a class="sidebar-link" href="#" id="trainingStatsLink"><i class='bx bx-bar-chart'></i><span>Dataset Info</span></a></li>
                </ul>
                </li>
            </ul>
        </aside>

        <!-- Main -->
        <div class="main">
            <main class="content px-3 py-4">
                <div class="container-fluid">
                    <section id="welcomeSection">
                        <h1 class="mt-4">Welcome to SentimentX</h1>
                        <p class="lead">Your real-time Twitter sentiment analysis tool.</p>
                        <p>Use the sidebar to navigate through the features.</p>
                    </section>
             
                    <!-- User Input section -->
                    <section id="userInputSection" class="wide-card-section">
                        <div class="row justify-content-center">
                            <div class="col-12 col-lg-10 col-xl-9 mx-auto">
                                <div class="card shadow custom-card">
                                     <div class="card-body py-5 px-5">
                                        <h2 class="modern-x-title">
                                            <span class="x-highlight">X</span>press <span class="yourself-highlight">yourself</span>
                                        </h2>

                                        <form id="tweetForm">
                                            <div class="mb-3">
                                                <textarea class="form-control" id="tweetInput" rows="3" placeholder="Write your tweet here..."></textarea>
                                            </div>
                                            <button type="button" class="btn-mini-analyze" onclick="analyzeSentiment()">Analyze Sentiment</button>
                                        </form>

                                        <!-- Πλαίσιο ανάλυσης συναισθήματος -->
                                        <div id="chat-response" class="chat-box mt-4 d-none">
                                            <div class="bot-msg">
                                                <span>SentimentX:</span>
                                                <p id="bot-response"></p>
                                            </div>
                                        </div>

                                        <!-- Emotion Chart -->
                                        <div id="emotionChartContainer" class="mt-4 d-none">
                                        <h5>Detected Emotions</h5>
                                        <canvas id="emotionChart" height="200"></canvas>
                                        </div>

                                    </div>
                                </div>
                            </div>
                        </div>
                    </section>

                    <!-- Live Feed section -->
                    <section id="liveFeedSection" class="d-none pt-4">
                        <h2 class="mb-3">Live Feed</h2>
                        <p>Live tweets will appear here.</p>

                        <div id="tweetsContainer" class="live-tweet-box"></div>

                        <!-- Κουμπί Load More -->
                        <button id="loadMoreBtn" class="btn-mini-analyze mt-3">⬇️ Load More Tweets</button>
                    </section>


                    <section id="sentimentAnalysisSection" class="d-none pt-4">
                        <h2 class="mb-4">Sentiment Analysis Results</h2>

                        <!-- Info Cards -->
                        <div class="row mb-2" id="infoCardsContainer"></div>

                        <!-- Emotion -->
                        <div class="mb-3">
                            <h5 class="mb-2">Emotion Distribution</h5>
                            <canvas id="sentimentEmotionChart" height="200"></canvas>
                            <p id="emotionDescription" class="mt-2 text-muted"></p>
                        </div>

                        <!-- Average Toxicity per Emotion -->
                        <div class="mb-4">
                            <h5 class="mb-3">Average Toxicity Score per Emotion</h5>
                            <canvas id="toxicityChart"></canvas>
                            <p id="toxicityDescription" class="mt-2 text-muted"></p>
                        </div>

                        <!-- Top Hashtags -->
                        <div class="mb-4">
                            <h5 class="mb-2">Top Appearing Hashtags</h5>
                            <canvas id="hashtagChart"></canvas>
                            <p id="hashtagDescription" class="mt-2"></p>
                        </div>

                        <!-- Emotion vs Hashtags -->
                        <div class="mb-4">
                            <h5 class="mb-3">Emotion vs Hashtags</h5>
                            <canvas id="emotionHashtagChart"></canvas>
                            <p id="emotionHashtagDescription" class="mt-2 text-muted"></p>
                        </div>

                        <!-- Hashtag Positive Ratio -->
                        <div class="mb-4">
                            <h5 class="mb-2">Hashtag Sentiment Ratio (Positive %)</h5>
                            <canvas id="hashtagRatioChart"></canvas>
                        </div>

                        <!-- Toxicity Histogram -->
                        <div class="mb-4">
                            <h5 class="mb-2">Toxicity Score Distribution</h5>
                            <canvas id="toxHistChart"></canvas>
                        </div>

                    </section>


                    <!-- Trending Topics section -->
                    <section id="trendingTopicsSection" class="d-none pt-4">
                        <h2 class="mb-4">Trending Topics</h2>

                        <div class="trending-container">
                            <!-- Grid container -->
                            <div class="card-grid">
                                
                            <!-- Κάρτα 1 -->
                            <div class="card">
                                <img src="{{ url_for('static', filename='images/crowd.jpg') }}" alt="Crowd of people">
                                <div class="card-content">
                                <h3>Analysis of crowds' movement using Twitter</h3>
                                <p>Over the last decade, the infrastructure supporting thesmart city has lived together with and was surpassedby the rise of social media. The tremendous growth ofboth mobile devices and social media users has uneartheda new kind of services in the so-called location-basedsocial networks (LBSNs)... </p>
                                <a href="https://www.researchgate.net/publication/332201552_Analysis_of_crowds'_movement_using_Twitter" class="btn">Read More</a>
                                </div>
                            </div>

                            <!-- Κάρτα 2 -->
                            <div class="card">
                                <img src="{{ url_for('static', filename='images/sent1.jpg') }}" alt="Sentiment Analysis Introduction">
                                <div class="card-content">
                                <h3>Sentiment Analysis: Types, Tools, and Use Cases</h3>
                                <p>Sentiment analysis is a form of text research that uses a mix of statistics, natural language processing (NLP), and machine learning to identify and extract subjective information — for instance, a reviewer’s feelings, thoughts, judgments, or assessments about a particular topic, event, or a company and its activities...</p>
                                <a href="https://www.altexsoft.com/blog/sentiment-analysis-types-tools-and-use-cases/" class="btn">Read More</a>
                                </div>
                            </div>

                            <!-- Κάρτα 3 -->
                            <div class="card">
                                <img src="{{ url_for('static', filename='images/sent2.png') }}" alt="Positive and Negative sentiment">
                                <div class="card-content">
                                <h3>Sentiment Analysis 2.0</h3>
                                <p>Sentiment analysis is arguably the most common and prominent tool for the analysis of web and social media data. Before coding data with other parameters such as topics or author groups, sentiment mapping is the most obvious...</p>
                                <a href="https://www.cure-intelligence.com/en/2019/06/14/sentiment-analysis-2-0/" class="btn">Read More</a>
                                </div>
                            </div>

                            <!-- Κάρτα 4 -->
                            <div class="card">
                                <img src="{{ url_for('static', filename='images/sent3.jpg') }}" alt="Customer feedback">
                                <div class="card-content">
                                <h3>Real-World Examples of Sentiment Analysis in Action</h3>
                                <p>Businesses are on a constant quest to improve their decision-making ability. Historically, decisions that rely on understanding the sentiment of an audience, have been perceived as subjective and anecdotal...</p>
                                <a href="https://qualetics.com/real-world-examples-of-sentiment-analysis-in-action/" class="btn">Read More</a>
                                </div>
                            </div>

                            </div>
                        </div>
                    </section>



                   <section id="distilbertSection" class="d-none pt-4">
                        <h2 class="mb-4">DistilBERT Model Details</h2>

                        <!-- Overview -->
                        <div class="card shadow mb-4 p-4">
                            <h5><i class="bi bi-info-circle-fill me-2"></i>Overview</h5>
                            <p>
                            <strong>SentimentX</strong> uses a fine-tuned <strong>DistilBERT</strong> model for sentiment
                            analysis on tweets. The model was trained on the <strong>Sentiment140</strong> dataset
                            (≈ <strong>1.6M tweets</strong>) with binary labels (<code>positive</code>, <code>negative</code>),
                            using mixed-precision training on GPU.
                            </p>
                        </div>

                        <!-- Training Pipeline -->
                        <div class="card shadow mb-4 p-4">
                            <h5><i class="bi bi-diagram-3-fill me-2"></i>Training Pipeline</h5>
                            <ul class="list-group list-group-flush">
                            <li class="list-group-item">
                                <i class="bi bi-sliders me-2 text-primary"></i><strong>Tokenizer:</strong>
                                DistilBERT (Fast) with dynamic padding (DataCollator)
                            </li>
                            <li class="list-group-item">
                                <i class="bi bi-type me-2 text-primary"></i><strong>Max Length:</strong> 128 tokens
                            </li>
                            <li class="list-group-item">
                                <i class="bi bi-x-square-fill me-2 text-danger"></i><strong>Loss Function:</strong> CrossEntropyLoss
                            </li>
                            <li class="list-group-item">
                                <i class="bi bi-gear-wide-connected me-2 text-warning"></i><strong>Optimizer:</strong>
                                AdamW (LR = 2e-5, Weight Decay = 1e-2)
                            </li>
                            <li class="list-group-item">
                                <i class="bi bi-activity me-2 text-info"></i><strong>Scheduler:</strong>
                                Linear warmup &amp; decay (warmup ≈ 6% of total steps)
                            </li>
                            <li class="list-group-item">
                                <i class="bi bi-box-seam me-2 text-info"></i><strong>Batch Size:</strong>
                                32 per step with Gradient Accumulation = 2 (<em>effective</em> 64)
                            </li>
                            <li class="list-group-item">
                                <i class="bi bi-clock-history me-2 text-success"></i><strong>Epochs:</strong>
                                4 (stratified 80/20 split, early stopping on validation F1, best-checkpoint saving)
                            </li>
                            <li class="list-group-item">
                                <i class="bi bi-lightning-fill me-2 text-warning"></i><strong>Precision:</strong>
                                Mixed precision (AMP via <code>torch.amp.autocast('cuda')</code>)
                            </li>
                            <li class="list-group-item">
                                <i class="bi bi-funnel me-2 text-secondary"></i><strong>Preprocessing (tweets):</strong>
                                emoji demojize → words, URL removal, <code>@user</code> normalization, hashtag splitting
                                (camelCase/underscores), repeat-squeeze (e.g., <code>soooo → soo</code>), keep <code>!</code>/<code>?</code>, lowercase.
                            </li>
                            </ul>
                        </div>

                        <!-- Fine-tuning -->
                        <div class="card shadow mb-4 p-4">
                            <h5><i class="bi bi-cpu me-2"></i>Fine-tuning DistilBERT</h5>
                            <div style="max-width: 600px; margin: 1rem 0;">
                            <p>
                                We fine-tuned <code>DistilBertForSequenceClassification</code> with <strong>2 labels</strong>
                                (positive/negative) on an 80% training split and evaluated on a 20% validation split.
                                Mixed precision (AMP) was used for faster training on GPU; the best checkpoint was selected
                                based on validation F1.
                            </p>
                            <a href="https://arxiv.org/abs/1910.01108" target="_blank" class="btn">Learn More</a>
                            </div>
                        </div>

                        <!-- Training Results -->
                        <div class="card shadow mb-4 p-4">
                            <h5><i class="bi bi-bar-chart-line-fill me-2"></i>Training Results Summary</h5>
                            <ul class="list-group list-group-flush">
                            <li class="list-group-item">
                                <i class="bi bi-graph-up-arrow me-2 text-info"></i>
                                <strong>Final Validation Accuracy:</strong> <span class="text-dark">85.38%</span>
                            </li>
                            <li class="list-group-item">
                                <i class="bi bi-award me-2 text-success"></i>
                                <strong>Final Validation F1 (pos class):</strong> <span class="text-dark">0.8515</span>
                            </li>
                            <li class="list-group-item">
                                <i class="bi bi-clipboard-data me-2 text-warning"></i>
                                <strong>Final Validation Loss:</strong> <span class="text-dark">0.3366</span>
                            </li>
                            <li class="list-group-item">
                                <i class="bi bi-gear-wide-connected me-2 text-danger"></i>
                                <strong>Average Training Loss:</strong> <span class="text-dark">0.3278</span>
                            </li>
                            </ul>
                        </div>


                    </section>


                    <section id="trainingStatsSection" class="d-none pt-4">
                        <h2 class="mb-4">Dataset Information</h2>

                        <!-- Dataset Card -->
                        <div class="card">
                            <div class="card-content">
                            <h3>Dataset: Sentiment140</h3>
                            <p>
                                <strong>Sentiment140</strong> contains approximately <strong>1.6 million tweets</strong> labeled as
                                positive or negative using emoticons via <em>distant supervision</em>.
                            </p>
                            <ul>
                                <li><strong>0</strong> = Negative</li>
                                <li><strong>4</strong> = Positive</li>
                            </ul>
                            <p class="text-muted mt-2">Fields: <code>target, id, date, flag, user, text</code></p>
                            <p class="mb-1">
                                <strong>Preprocessing:</strong> HTML unescape, URL removal, <code>@user</code> normalization,
                                hashtag splitting (camelCase/underscores), emoji demojize to words, repeat-squeeze
                                (e.g., <code>soooo → soo</code>), keep <code>!</code>/<code>?</code>, lowercase, and short/duplicate filtering.
                            </p>
                            <p class="text-muted">The cleaned dataset was saved as <code>cleaned_sentiment140.csv</code>.</p>
                            <a href="https://www.kaggle.com/datasets/kazanova/sentiment140" target="_blank" class="btn btn-sm btn-secondary mt-3">
                                View on Kaggle
                            </a>
                            </div>
                        </div>

                        <!-- TweetEval Card -->
                        <div class="card mt-4">
                            <div class="card-content">
                            <h3>TweetEval Dataset</h3>
                            <p>
                                TweetEval is a widely used benchmark dataset that contains tweets categorized into multiple tasks such as sentiment 
                                (positive/negative), irony, toxicity, and hate speech. It is commonly used in research as a reference point for evaluating NLP models on Twitter data.
                                In this application, it ensures that predictions are based on standardized data and deliver reliable and comparable results.
                            </p>
                            <a href="https://www.kaggle.com/datasets/thedevastator/tweeteval-a-multi-task-classification-benchmark"
                                target="_blank" class="btn btn-sm btn-secondary mt-2">
                                TweetEval Dataset
                            </a>
                            </div>
                        </div>

                    </section>



                </div>
            </main>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.7/dist/js/bootstrap.bundle.min.js"
            integrity="sha384-ndDqU0Gzau9qJ1lfW4pNLlhNTkCfHzAVBReH9diLvGRem5+R9g2FzA8ZGN954O5Q"
            crossorigin="anonymous"></script>

    <script src="{{ url_for('static', filename='script.js') }}"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="{{ url_for('static', filename='stats.js') }}"></script>

</body>

</html>